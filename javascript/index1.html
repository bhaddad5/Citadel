<!DOCTYPE html>
<html>
  <head>
    <title>Putting in Basics</title>
  </head>
  <body>
   <script src="js/three.min.js"></script>
   
 <script>
  
  var Game = function() {
  
  };

  var camera, scene, renderer, light;
  var time0 = new Date().getTime();
  
  var Wall = function(position) {
    //A Wall is a game object
	//It's default position is the origin
	position = position || {x:0, y:0, z:0};
	this.type = 'Wall';
	
	//This creates the red cube
	this.geometry = new THREE.CubeGeometry(90, 90, 90);
	this.material = new THREE.MeshLambertMaterial({color: 0xff0000});
	this.object = new THREE.Mesh(this.geometry, this.material);
	
	//This changes it to the correct position
	this.object.position = position;
	
	    console.log(this.object.position);
	
	return this.object;
  };
  
    var Robot = function(position) {
    //A Robot is a game object
	//It's default position is the origin
	position = position || {x:0, y:0, z:0};
	this.type = 'Robot';
	
	//This creates the blue circle
	this.geometry = new THREE.SphereGeometry(45, 20, 20);
	this.material = new THREE.MeshLambertMaterial({color: 0x0000ff});
	this.object = new THREE.Mesh(this.geometry, this.material);
	
	//This changes it to the correct position
	this.object.position = position;
	
	    console.log("Robot at:");
	    console.log(this.object.position);
	
	return this.object;
  };
  
  
  //This function creates and renders everything. 
  Game.prototype.initialize = function() {
	
	//This creates the camera.  I used your numbers in lieu of better ones.
	camera = new THREE.PerspectiveCamera(75,4.0/3.0, 1, 10000);
	camera.position.z = 500;
	
	//This creates the scene.
	scene = new THREE.Scene();
	
	//THIS IS WHERE THE PROBLEM IS.
	var objects = new Array();
	objects.push(new Wall({x:0, y:100, z:0}));
	objects.push(new Wall({x:100, y:0, z:0}));
	objects.push(new Wall({x:100, y:100, z:0}));
	
	for(var i = 0; i<objects.length; i++) {
	  scene.add(objects[i]);
	};
	
	scene.add(new Robot({x:0, y:0, z:0}));
	
	//This creates and adds the light.  I used your numbers in lieu of better ones.
    this.light = new THREE.PointLight(0xffffff, 1, 1000);
    this.light.position.set(0, -100, 300);
    scene.add(this.light);
	
	//This creates the renderer.  I used your numbers in lieu of better ones.
	renderer = new THREE.WebGLRenderer({antialias: true});
	renderer.setSize(800,600);
	renderer.setClearColor(0xeeeeee, 1.0);
	document.body.appendChild(renderer.domElement);
  };
  
  function render(t) {
    // Bob the camera a bit
    camera.position.x = Math.sin(t / 1000.0) * 60;
    camera.position.y = -1000 + Math.sin(t / 700.0) * 40;
    camera.lookAt(scene.position);
    renderer.render(scene, camera);
  };

  Game.prototype.animate = function() {
    //this loops through, animating the scene
    requestAnimationFrame( game.animate);
	
    var time = new Date().getTime();
    render(time - time0);

  };
  
  game = new Game();
  
  game.initialize();
  game.animate();

</script>   
   
  </body>
</html>